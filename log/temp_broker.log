2019-03-17,17:38:12.932058 i am the current leader. Table={}
2019-03-17,17:38:12.933057 Publisher changes. Table={}
2019-03-17,17:38:12.934054 Subscriber changes. Table={}
2019-03-17,17:38:12.935051 broker started. mode=2, port=5555, znode=/test_temp_dir/Election/Broker_0000000000
2019-03-17,17:38:13.965295 request={'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:5000', 'topic': [{'topic': 'hello', 'history': 3, 'strength': '000'}]}, response=
2019-03-17,17:38:13.988260 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5000'}, 'sub': set(), 'strongest': 'tcp://127.0.0.1:5000'}}
2019-03-17,17:38:14.051065 request={'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:5001', 'topic': [{'topic': 'hello', 'history': 5, 'strength': '001'}]}, response=
2019-03-17,17:38:14.073008 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5000', 'tcp://127.0.0.1:5001'}, 'sub': set(), 'strongest': 'tcp://127.0.0.1:5000'}}
2019-03-17,17:38:17.133819 Subscriber changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5000', 'tcp://127.0.0.1:5001'}, 'sub': {'tcp://127.0.0.1:5010'}, 'strongest': 'tcp://127.0.0.1:5000'}}
2019-03-17,17:38:17.134815 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:5010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=
2019-03-17,17:38:17.201637 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:5011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=
2019-03-17,17:38:17.217593 Subscriber changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5000', 'tcp://127.0.0.1:5001'}, 'sub': {'tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'}, 'strongest': 'tcp://127.0.0.1:5000'}}
2019-03-17,17:38:20.240509 request={'type': 'publish_req', 'topic': 'hello', 'value': 'test1_pub1', 'ip': 'tcp://127.0.0.1:5000'}, response=msg sent to ip=['tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'], res=['blocked by history requirement. require=6, actual=3', 'blocked by history requirement. require=4, actual=3']
2019-03-17,17:38:20.242505 request={'type': 'publish_req', 'topic': 'hello', 'value': 'test1_pub2', 'ip': 'tcp://127.0.0.1:5000'}, response=msg sent to ip=['tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'], res=['blocked by history requirement. require=6, actual=3', 'blocked by history requirement. require=4, actual=3']
2019-03-17,17:38:20.766100 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5001'}, 'sub': {'tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'}, 'strongest': 'tcp://127.0.0.1:5001'}}
2019-03-17,17:38:21.786401 request={'type': 'publish_req', 'topic': 'hello', 'value': 'test2_pub2', 'ip': 'tcp://127.0.0.1:5001'}, response=msg sent to ip=['tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'], res=['blocked by history requirement. require=6, actual=5', {'msg': 'success'}]
2019-03-17,17:38:22.302994 request={'type': 'publish_req', 'topic': 'hello', 'value': 'test3_pub2', 'ip': 'tcp://127.0.0.1:5001'}, response=msg sent to ip=['tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'], res=['blocked by history requirement. require=6, actual=5', {'msg': 'success'}]
2019-03-17,17:38:22.821604 Publisher changes. Table={'hello': {'pub': set(), 'sub': {'tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'}, 'strongest': 'tcp://127.0.0.1:5001'}}
2019-03-17,17:38:22.885434 request={'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:5000', 'topic': [{'topic': 'hello', 'history': 3, 'strength': '002'}]}, response=
2019-03-17,17:38:22.906375 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5000'}, 'sub': {'tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'}, 'strongest': 'tcp://127.0.0.1:5000'}}
2019-03-17,17:38:23.912685 request={'type': 'publish_req', 'topic': 'hello', 'value': 'test4_pub1', 'ip': 'tcp://127.0.0.1:5000'}, response=msg sent to ip=['tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'], res=['blocked by history requirement. require=6, actual=3', 'blocked by history requirement. require=4, actual=3']
2019-03-17,17:38:24.434290 Publisher changes. Table={'hello': {'pub': set(), 'sub': {'tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'}, 'strongest': 'tcp://127.0.0.1:5000'}}
2019-03-17,17:38:24.489143 request={'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:5002', 'topic': [{'topic': 'hello', 'history': 7, 'strength': '003'}]}, response=
2019-03-17,17:38:24.515074 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5002'}, 'sub': {'tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'}, 'strongest': 'tcp://127.0.0.1:5002'}}
2019-03-17,17:38:25.552358 request={'type': 'publish_req', 'topic': 'hello', 'value': 'test5_pub3', 'ip': 'tcp://127.0.0.1:5002'}, response=msg sent to ip=['tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'], res=[{'msg': 'success'}, {'msg': 'success'}]
2019-03-17,17:38:26.073904 Publisher changes. Table={'hello': {'pub': set(), 'sub': {'tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'}, 'strongest': 'tcp://127.0.0.1:5002'}}
2019-03-17,17:38:26.086868 Subscriber changes. Table={}
2019-03-17,17:38:26.091854 deleting znode: /test_temp_dir/Election/Broker_0000000000
2019-03-17,17:38:26.094846 Subscriber changes. Table={}
2019-03-17,17:38:26.177784 i am the current leader. Table={}
2019-03-17,17:38:26.179626 Publisher changes. Table={}
2019-03-17,17:38:26.180617 Subscriber changes. Table={}
2019-03-17,17:38:26.180617 broker started. mode=1, port=6555, znode=/test_temp_dir/Election/Broker_0000000000
2019-03-17,17:38:27.220834 request={'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:6000', 'topic': [{'topic': 'hello', 'history': 3, 'strength': '000'}]}, response=
2019-03-17,17:38:27.238787 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6000'}, 'sub': set(), 'strongest': 'tcp://127.0.0.1:6000'}}
2019-03-17,17:38:27.295634 request={'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:6001', 'topic': [{'topic': 'hello', 'history': 5, 'strength': '001'}]}, response=
2019-03-17,17:38:27.316578 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6000', 'tcp://127.0.0.1:6001'}, 'sub': set(), 'strongest': 'tcp://127.0.0.1:6000'}}
2019-03-17,17:38:30.351464 Subscriber changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6000', 'tcp://127.0.0.1:6001'}, 'sub': set(), 'strongest': 'tcp://127.0.0.1:6000'}}
2019-03-17,17:38:30.853154 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=
2019-03-17,17:38:30.855115 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=
2019-03-17,17:38:30.908967 Subscriber changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6000', 'tcp://127.0.0.1:6001'}, 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}, 'strongest': 'tcp://127.0.0.1:6000'}}
2019-03-17,17:38:31.407633 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=
2019-03-17,17:38:31.408632 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=
2019-03-17,17:38:36.280629 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6001'}, 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}, 'strongest': 'tcp://127.0.0.1:6001'}}
2019-03-17,17:38:36.573839 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=tcp://127.0.0.1:6001
2019-03-17,17:38:36.604766 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=
2019-03-17,17:38:41.742022 Publisher changes. Table={'hello': {'pub': set(), 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}, 'strongest': 'tcp://127.0.0.1:6001'}}
2019-03-17,17:38:42.493046 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=
2019-03-17,17:38:42.642577 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=
2019-03-17,17:38:42.756274 request={'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:6000', 'topic': [{'topic': 'hello', 'history': 3, 'strength': '002'}]}, response=
2019-03-17,17:38:43.049489 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6000'}, 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}, 'strongest': 'tcp://127.0.0.1:6000'}}
2019-03-17,17:38:43.111359 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=
2019-03-17,17:38:43.255975 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=
2019-03-17,17:38:45.108981 Publisher changes. Table={'hello': {'pub': set(), 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}, 'strongest': 'tcp://127.0.0.1:6000'}}
2019-03-17,17:38:46.057443 request={'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:6002', 'topic': [{'topic': 'hello', 'history': 7, 'strength': '003'}]}, response=
2019-03-17,17:38:46.089357 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=tcp://127.0.0.1:6002
2019-03-17,17:38:46.163159 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=tcp://127.0.0.1:6002
2019-03-17,17:38:46.523198 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6002'}, 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}, 'strongest': 'tcp://127.0.0.1:6002'}}
2019-03-17,17:38:46.902221 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=tcp://127.0.0.1:6002
2019-03-17,17:38:47.021889 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=tcp://127.0.0.1:6002
2019-03-17,17:38:48.983625 deleting znode: /test_temp_dir/Election/Broker_0000000000
2019-03-17,17:38:49.319717 Subscriber changes. Table={}

2019-03-20,00:17:15.944207 i am the current leader. Table={}
2019-03-20,00:17:15.945672 Publisher changes. Table={}
2019-03-20,00:17:15.947751 Subscriber changes. Table={}
2019-03-20,00:17:15.947916 broker started. mode=2, port=5555, znode=/test_temp_dir/Election/Broker_0000000000
2019-03-20,00:17:16.988285 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5000'}, 'strongest': 'tcp://127.0.0.1:5000', 'sub': set()}}
2019-03-20,00:17:16.992992 request={'topic': [{'strength': '000', 'topic': 'hello', 'history': 3}], 'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:5000'}, response=
2019-03-20,00:17:17.026540 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5001', 'tcp://127.0.0.1:5000'}, 'strongest': 'tcp://127.0.0.1:5000', 'sub': set()}}
2019-03-20,00:17:17.032245 request={'topic': [{'strength': '001', 'topic': 'hello', 'history': 5}], 'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:5001'}, response=
2019-03-20,00:17:20.059771 Subscriber changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5001', 'tcp://127.0.0.1:5000'}, 'strongest': 'tcp://127.0.0.1:5000', 'sub': set()}}
2019-03-20,00:17:20.071622 request={'topic': [{'topic': 'hello', 'history': 4}], 'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:5010'}, response=
2019-03-20,00:17:20.097583 Subscriber changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5001', 'tcp://127.0.0.1:5000'}, 'strongest': 'tcp://127.0.0.1:5000', 'sub': {'tcp://127.0.0.1:5010', 'tcp://127.0.0.1:5011'}}}
2019-03-20,00:17:20.100559 request={'topic': [{'topic': 'hello', 'history': 6}], 'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:5011'}, response=
2019-03-20,00:17:23.116314 request={'value': 'test1_pub1', 'topic': 'hello', 'type': 'publish_req', 'ip': 'tcp://127.0.0.1:5000'}, response=msg sent to ip=['tcp://127.0.0.1:5010', 'tcp://127.0.0.1:5011'], res=['blocked by history requirement. require=4, actual=3', 'blocked by history requirement. require=6, actual=3']
2019-03-20,00:17:23.116738 request={'value': 'test1_pub2', 'topic': 'hello', 'type': 'publish_req', 'ip': 'tcp://127.0.0.1:5000'}, response=msg sent to ip=['tcp://127.0.0.1:5010', 'tcp://127.0.0.1:5011'], res=['blocked by history requirement. require=4, actual=3', 'blocked by history requirement. require=6, actual=3']
2019-03-20,00:17:23.627862 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5001'}, 'strongest': 'tcp://127.0.0.1:5001', 'sub': {'tcp://127.0.0.1:5010', 'tcp://127.0.0.1:5011'}}}
2019-03-20,00:17:24.625603 request={'value': 'test2_pub2', 'topic': 'hello', 'type': 'publish_req', 'ip': 'tcp://127.0.0.1:5001'}, response=msg sent to ip=['tcp://127.0.0.1:5010', 'tcp://127.0.0.1:5011'], res=[{'msg': 'success'}, 'blocked by history requirement. require=6, actual=5']
2019-03-20,00:17:25.130177 request={'value': 'test3_pub2', 'topic': 'hello', 'type': 'publish_req', 'ip': 'tcp://127.0.0.1:5001'}, response=msg sent to ip=['tcp://127.0.0.1:5010', 'tcp://127.0.0.1:5011'], res=[{'msg': 'success'}, 'blocked by history requirement. require=6, actual=5']
2019-03-20,00:17:25.640897 Publisher changes. Table={'hello': {'pub': set(), 'strongest': 'tcp://127.0.0.1:5001', 'sub': {'tcp://127.0.0.1:5010', 'tcp://127.0.0.1:5011'}}}
2019-03-20,00:17:25.691048 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5000'}, 'strongest': 'tcp://127.0.0.1:5000', 'sub': {'tcp://127.0.0.1:5010', 'tcp://127.0.0.1:5011'}}}
2019-03-20,00:17:25.695891 request={'topic': [{'strength': '002', 'topic': 'hello', 'history': 3}], 'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:5000'}, response=
2019-03-20,00:17:26.698150 request={'value': 'test4_pub1', 'topic': 'hello', 'type': 'publish_req', 'ip': 'tcp://127.0.0.1:5000'}, response=msg sent to ip=['tcp://127.0.0.1:5010', 'tcp://127.0.0.1:5011'], res=['blocked by history requirement. require=4, actual=3', 'blocked by history requirement. require=6, actual=3']
2019-03-20,00:17:27.205564 Publisher changes. Table={'hello': {'pub': set(), 'strongest': 'tcp://127.0.0.1:5000', 'sub': {'tcp://127.0.0.1:5010', 'tcp://127.0.0.1:5011'}}}
2019-03-20,00:17:27.243629 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5002'}, 'strongest': 'tcp://127.0.0.1:5002', 'sub': {'tcp://127.0.0.1:5010', 'tcp://127.0.0.1:5011'}}}
2019-03-20,00:17:27.248611 request={'topic': [{'strength': '003', 'topic': 'hello', 'history': 7}], 'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:5002'}, response=
2019-03-20,00:17:28.252597 request={'value': 'test5_pub3', 'topic': 'hello', 'type': 'publish_req', 'ip': 'tcp://127.0.0.1:5002'}, response=msg sent to ip=['tcp://127.0.0.1:5010', 'tcp://127.0.0.1:5011'], res=[{'msg': 'success'}, {'msg': 'success'}]
2019-03-20,00:17:28.767540 Publisher changes. Table={'hello': {'pub': set(), 'strongest': 'tcp://127.0.0.1:5002', 'sub': {'tcp://127.0.0.1:5010', 'tcp://127.0.0.1:5011'}}}
2019-03-20,00:17:28.771502 Subscriber changes. Table={'hello': {'pub': set(), 'strongest': 'tcp://127.0.0.1:5002', 'sub': {'tcp://127.0.0.1:5011'}}}
2019-03-20,00:17:28.774443 deleting znode: /test_temp_dir/Election/Broker_0000000000
2019-03-20,00:17:28.775216 Subscriber changes. Table={}
2019-03-20,00:17:28.829250 i am the current leader. Table={}
2019-03-20,00:17:28.830084 Publisher changes. Table={}
2019-03-20,00:17:28.830894 Subscriber changes. Table={}
2019-03-20,00:17:28.831015 broker started. mode=1, port=6555, znode=/test_temp_dir/Election/Broker_0000000000
2019-03-20,00:17:29.852749 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6000'}, 'strongest': 'tcp://127.0.0.1:6000', 'sub': set()}}
2019-03-20,00:17:29.856200 request={'topic': [{'strength': '000', 'topic': 'hello', 'history': 3}], 'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:6000'}, response=
2019-03-20,00:17:29.943687 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6000', 'tcp://127.0.0.1:6001'}, 'strongest': 'tcp://127.0.0.1:6000', 'sub': set()}}
2019-03-20,00:17:29.947835 request={'topic': [{'strength': '001', 'topic': 'hello', 'history': 5}], 'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:6001'}, response=
2019-03-20,00:17:32.983657 Subscriber changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6000', 'tcp://127.0.0.1:6001'}, 'strongest': 'tcp://127.0.0.1:6000', 'sub': {'tcp://127.0.0.1:6010'}}}
2019-03-20,00:17:33.484588 request={'topic': [{'topic': 'hello', 'history': 4}], 'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010'}, response=
2019-03-20,00:17:33.485004 request={'topic': [{'topic': 'hello', 'history': 4}], 'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010'}, response=
2019-03-20,00:17:33.511713 Subscriber changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6000', 'tcp://127.0.0.1:6001'}, 'strongest': 'tcp://127.0.0.1:6000', 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}}}
2019-03-20,00:17:34.009893 request={'topic': [{'topic': 'hello', 'history': 6}], 'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011'}, response=
2019-03-20,00:17:34.010235 request={'topic': [{'topic': 'hello', 'history': 6}], 'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011'}, response=
2019-03-20,00:17:37.976289 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6001'}, 'strongest': 'tcp://127.0.0.1:6001', 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}}}
2019-03-20,00:17:38.362555 request={'topic': [{'topic': 'hello', 'history': 4}], 'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010'}, response=tcp://127.0.0.1:6001
2019-03-20,00:17:38.362831 request={'topic': [{'topic': 'hello', 'history': 6}], 'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011'}, response=
2019-03-20,00:17:42.620268 Publisher changes. Table={'hello': {'pub': set(), 'strongest': 'tcp://127.0.0.1:6001', 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}}}
2019-03-20,00:17:42.988270 request={'topic': [{'strength': '002', 'topic': 'hello', 'history': 3}], 'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:6000'}, response=
2019-03-20,00:17:43.195079 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6000'}, 'strongest': 'tcp://127.0.0.1:6000', 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}}}
2019-03-20,00:17:43.228256 request={'topic': [{'topic': 'hello', 'history': 4}], 'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010'}, response=
2019-03-20,00:17:43.228515 request={'topic': [{'topic': 'hello', 'history': 6}], 'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011'}, response=
2019-03-20,00:17:43.782643 request={'topic': [{'topic': 'hello', 'history': 6}], 'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011'}, response=
2019-03-20,00:17:43.782888 request={'topic': [{'topic': 'hello', 'history': 4}], 'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010'}, response=
2019-03-20,00:17:44.680411 Publisher changes. Table={'hello': {'pub': set(), 'strongest': 'tcp://127.0.0.1:6000', 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}}}
2019-03-20,00:17:45.222355 request={'topic': [{'strength': '003', 'topic': 'hello', 'history': 7}], 'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:6002'}, response=
2019-03-20,00:17:45.468430 request={'topic': [{'topic': 'hello', 'history': 4}], 'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010'}, response=tcp://127.0.0.1:6002
2019-03-20,00:17:45.468746 request={'topic': [{'topic': 'hello', 'history': 6}], 'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011'}, response=tcp://127.0.0.1:6002
2019-03-20,00:17:45.491741 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6002'}, 'strongest': 'tcp://127.0.0.1:6002', 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}}}
2019-03-20,00:17:46.050552 request={'topic': [{'topic': 'hello', 'history': 4}], 'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010'}, response=tcp://127.0.0.1:6002
2019-03-20,00:17:46.071365 request={'topic': [{'topic': 'hello', 'history': 6}], 'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011'}, response=tcp://127.0.0.1:6002
2019-03-20,00:17:47.088833 deleting znode: /test_temp_dir/Election/Broker_0000000000
2019-03-20,00:17:47.199561 Subscriber changes. Table={}

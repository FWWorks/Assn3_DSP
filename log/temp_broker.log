2019-03-19,19:48:34.280676 i am the current leader. Table={}
2019-03-19,19:48:34.282588 Publisher changes. Table={}
2019-03-19,19:48:34.284589 Subscriber changes. Table={}
2019-03-19,19:48:34.284589 broker started. mode=2, port=5555, znode=/test_temp_dir/Election/Broker_0000000000
2019-03-19,19:48:35.312843 request={'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:5000', 'topic': [{'topic': 'hello', 'history': 3, 'strength': '000'}]}, response=
2019-03-19,19:48:35.318815 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5000'}, 'sub': set(), 'strongest': 'tcp://127.0.0.1:5000'}}
2019-03-19,19:48:35.400596 request={'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:5001', 'topic': [{'topic': 'hello', 'history': 5, 'strength': '001'}]}, response=
2019-03-19,19:48:35.445477 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5001', 'tcp://127.0.0.1:5000'}, 'sub': set(), 'strongest': 'tcp://127.0.0.1:5000'}}
2019-03-19,19:48:38.794520 Subscriber changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5001', 'tcp://127.0.0.1:5000'}, 'sub': {'tcp://127.0.0.1:5010'}, 'strongest': 'tcp://127.0.0.1:5000'}}
2019-03-19,19:48:38.882284 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:5010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=
2019-03-19,19:48:39.183478 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:5011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=
2019-03-19,19:48:39.214395 Subscriber changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5001', 'tcp://127.0.0.1:5000'}, 'sub': {'tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'}, 'strongest': 'tcp://127.0.0.1:5000'}}
2019-03-19,19:48:42.221350 request={'type': 'publish_req', 'topic': 'hello', 'value': 'test1_pub1', 'ip': 'tcp://127.0.0.1:5000'}, response=msg sent to ip=['tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'], res=['blocked by history requirement. require=6, actual=3', 'blocked by history requirement. require=4, actual=3']
2019-03-19,19:48:42.223347 request={'type': 'publish_req', 'topic': 'hello', 'value': 'test1_pub2', 'ip': 'tcp://127.0.0.1:5000'}, response=msg sent to ip=['tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'], res=['blocked by history requirement. require=6, actual=3', 'blocked by history requirement. require=4, actual=3']
2019-03-19,19:48:42.744953 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5001'}, 'sub': {'tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'}, 'strongest': 'tcp://127.0.0.1:5001'}}
2019-03-19,19:48:43.755249 request={'type': 'publish_req', 'topic': 'hello', 'value': 'test2_pub2', 'ip': 'tcp://127.0.0.1:5001'}, response=msg sent to ip=['tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'], res=['blocked by history requirement. require=6, actual=5', {'msg': 'success'}]
2019-03-19,19:48:44.272866 request={'type': 'publish_req', 'topic': 'hello', 'value': 'test3_pub2', 'ip': 'tcp://127.0.0.1:5001'}, response=msg sent to ip=['tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'], res=['blocked by history requirement. require=6, actual=5', {'msg': 'success'}]
2019-03-19,19:48:44.799457 Publisher changes. Table={'hello': {'pub': set(), 'sub': {'tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'}, 'strongest': 'tcp://127.0.0.1:5001'}}
2019-03-19,19:48:44.866277 request={'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:5000', 'topic': [{'topic': 'hello', 'history': 3, 'strength': '002'}]}, response=
2019-03-19,19:48:44.886224 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5000'}, 'sub': {'tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'}, 'strongest': 'tcp://127.0.0.1:5000'}}
2019-03-19,19:48:45.886549 request={'type': 'publish_req', 'topic': 'hello', 'value': 'test4_pub1', 'ip': 'tcp://127.0.0.1:5000'}, response=msg sent to ip=['tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'], res=['blocked by history requirement. require=6, actual=3', 'blocked by history requirement. require=4, actual=3']
2019-03-19,19:48:46.419123 Publisher changes. Table={'hello': {'pub': set(), 'sub': {'tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'}, 'strongest': 'tcp://127.0.0.1:5000'}}
2019-03-19,19:48:46.465001 request={'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:5002', 'topic': [{'topic': 'hello', 'history': 7, 'strength': '003'}]}, response=
2019-03-19,19:48:46.485946 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:5002'}, 'sub': {'tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'}, 'strongest': 'tcp://127.0.0.1:5002'}}
2019-03-19,19:48:47.520178 request={'type': 'publish_req', 'topic': 'hello', 'value': 'test5_pub3', 'ip': 'tcp://127.0.0.1:5002'}, response=msg sent to ip=['tcp://127.0.0.1:5011', 'tcp://127.0.0.1:5010'], res=[{'msg': 'success'}, {'msg': 'success'}]
2019-03-19,19:48:48.050760 Publisher changes. Table={'hello': {'pub': set(), 'sub': {'tcp://127.0.0.1:5011'}, 'strongest': 'tcp://127.0.0.1:5002'}}
2019-03-19,19:48:48.059738 deleting znode: /test_temp_dir/Election/Broker_0000000000
2019-03-19,19:48:48.060735 Subscriber changes. Table={}
2019-03-19,19:48:48.154485 i am the current leader. Table={}
2019-03-19,19:48:48.155479 Publisher changes. Table={}
2019-03-19,19:48:48.156476 Subscriber changes. Table={}
2019-03-19,19:48:48.157482 broker started. mode=1, port=6555, znode=/test_temp_dir/Election/Broker_0000000000
2019-03-19,19:48:49.201681 request={'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:6000', 'topic': [{'topic': 'hello', 'history': 3, 'strength': '000'}]}, response=
2019-03-19,19:48:49.206671 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6000'}, 'sub': set(), 'strongest': 'tcp://127.0.0.1:6000'}}
2019-03-19,19:48:49.293437 request={'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:6001', 'topic': [{'topic': 'hello', 'history': 5, 'strength': '001'}]}, response=
2019-03-19,19:48:49.314379 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6001', 'tcp://127.0.0.1:6000'}, 'sub': set(), 'strongest': 'tcp://127.0.0.1:6000'}}
2019-03-19,19:48:52.361231 Subscriber changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6001', 'tcp://127.0.0.1:6000'}, 'sub': set(), 'strongest': 'tcp://127.0.0.1:6000'}}
2019-03-19,19:48:52.862888 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=
2019-03-19,19:48:52.863889 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=
2019-03-19,19:48:52.927714 Subscriber changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6001', 'tcp://127.0.0.1:6000'}, 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}, 'strongest': 'tcp://127.0.0.1:6000'}}
2019-03-19,19:48:53.428377 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=
2019-03-19,19:48:53.429373 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=
2019-03-19,19:48:58.352232 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6001'}, 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}, 'strongest': 'tcp://127.0.0.1:6001'}}
2019-03-19,19:48:58.507815 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=tcp://127.0.0.1:6001
2019-03-19,19:48:58.552668 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=
2019-03-19,19:49:03.858503 Publisher changes. Table={'hello': {'pub': set(), 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}, 'strongest': 'tcp://127.0.0.1:6001'}}
2019-03-19,19:49:05.184932 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=
2019-03-19,19:49:05.194978 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=
2019-03-19,19:49:05.676682 request={'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:6000', 'topic': [{'topic': 'hello', 'history': 3, 'strength': '002'}]}, response=
2019-03-19,19:49:05.827254 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=
2019-03-19,19:49:05.851183 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=
2019-03-19,19:49:05.943900 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6000'}, 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}, 'strongest': 'tcp://127.0.0.1:6000'}}
2019-03-19,19:49:06.434614 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=
2019-03-19,19:49:06.543324 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=
2019-03-19,19:49:08.275663 Publisher changes. Table={'hello': {'pub': set(), 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}, 'strongest': 'tcp://127.0.0.1:6000'}}
2019-03-19,19:49:09.019674 request={'type': 'add_publisher', 'ip': 'tcp://127.0.0.1:6002', 'topic': [{'topic': 'hello', 'history': 7, 'strength': '003'}]}, response=
2019-03-19,19:49:09.043609 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=tcp://127.0.0.1:6002
2019-03-19,19:49:09.051589 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=tcp://127.0.0.1:6002
2019-03-19,19:49:09.467474 Publisher changes. Table={'hello': {'pub': {'tcp://127.0.0.1:6002'}, 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}, 'strongest': 'tcp://127.0.0.1:6002'}}
2019-03-19,19:49:09.772659 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6011', 'topic': [{'topic': 'hello', 'history': 6}]}, response=tcp://127.0.0.1:6002
2019-03-19,19:49:10.227441 request={'type': 'add_subscriber', 'ip': 'tcp://127.0.0.1:6010', 'topic': [{'topic': 'hello', 'history': 4}]}, response=tcp://127.0.0.1:6002
2019-03-19,19:49:11.560909 Publisher changes. Table={'hello': {'pub': set(), 'sub': {'tcp://127.0.0.1:6010', 'tcp://127.0.0.1:6011'}, 'strongest': 'tcp://127.0.0.1:6002'}}
2019-03-19,19:49:12.126389 Subscriber changes. Table={}
2019-03-19,19:49:12.219151 deleting znode: /test_temp_dir/Election/Broker_0000000000
2019-03-19,19:49:12.480442 Subscriber changes. Table={}
